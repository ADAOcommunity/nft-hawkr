"use strict";(self.webpackChunkyoctodao_interface=self.webpackChunkyoctodao_interface||[]).push([[29],{9680:function(t,e,i){i.d(e,{Me:function(){return Et},A:function(){return lt},AD:function(){return v},Rg:function(){return k},LZ:function(){return ut},zc:function(){return ht}});var r=i(4550),n=i(3204),s=i(3009),o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},o(t,e)};function a(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u,h=function(){return h=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},h.apply(this,arguments)};var c,l=(u="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,f=u.navigator.userAgent,p=!!("getComputedStyle"in u),d=!!("addEventListener"in l),g=function(){var t=!1;try{d&&Object.defineProperty&&l.addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),_=(/MSIE|Trident|Windows Phone|Edge/.test(f),/iPhone|iPad/.test(f)),m=/Android 2\./.test(f),v="_eg-infinitegrid-container_",y="_eg-infinitegrid-ignore_",z="_INFINITEGRID_TRANSITION",S=-1e5,C="data-groupkey",E={itemSelector:"*",isOverflowScroll:!1,threshold:100,isEqualSize:!1,isConstantSize:!1,useRecycle:!0,horizontal:!1,transitionDuration:0,useFit:!0,attributePrefix:"data-",renderExternal:!1,resizeDebounce:100,maxResizeDebounce:0,percentage:!1,useOffset:!1},M={horizontal:!1,margin:0},w=f.toLowerCase(),x=(/mobi|ios|android/.test(w),"start"),L="center",I="end",P="justify",O=/applewebkit\/([\d|.]*)/g.exec(w),T=O&&parseInt(O[1],10)||0,b=T&&T<537,K=["content","groupKey","itemKey","orgSize","mounted","prevRect","rect","size"],R=(c=function(){var t={transitionend:"",webkitTransitionEnd:"-webkit-",MSTransitionEnd:"-ms-",oTransitionEnd:"-o-",mozTransitionEnd:"-moz-"};for(var e in t){var i=t[e];if("on"+e.toLowerCase()in u)return[i+"transform",i+"transition",e]}return[]}())[0],A=c[1],G=c[2],k=["append","prepend","imageError","change","layoutComplete"],B={getLoadingBar:!0,getItem:!0,getItems:!0,layout:!0,getGroupKeys:!0,getStatus:!0,setStatus:!0,isProcessing:!0,startLoading:!0,endLoading:!0,isLoading:!0,updateItem:!0,updateItems:!0,moveTo:!0};function V(t){var e=[];if(t)for(var i=t.length,r=0;r<i;r++)e.push(t[r]);return e}function q(t){return t.match(/^<([A-z]+)\s*([^>]*)>/)}function D(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t){if(q(t)){var r=l.createElement("div");r.innerHTML=t,i=r.childNodes}else i=l.querySelectorAll(t);return e?V(i):i&&i[0]}return st(t)?i=t:!function(t){return"function"==typeof u.jQuery&&t instanceof u.jQuery||t.constructor.prototype.jquery&&t.toArray}(t)?Array.isArray(t)?(i=t.map((function(t){return D(t)})),e||(i=i.length>=1?i[0]:void 0)):i=!t.nodeName||1!==t.nodeType&&9!==t.nodeType?[].slice.call(i):t:i=e?D(t.toArray(),!0):D(t.get(0),!1),i}function j(t,e,i,r){if(d){var n=r||!1;"object"==typeof r&&(n=!!g&&r),t.addEventListener(e,i,n)}else t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function H(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null}function N(t){return(p?u.getComputedStyle(t):t.currentStyle)||{}}function F(t,e,i){if(st(t))return u["inner"+e]||l.body["client"+e];if(function(t){return 9===t.nodeType}(t)){var r=t.documentElement,n=t.body;return Math.max(n["scroll"+e],r["scroll"+e],n["offset"+e],r["offset"+e],r["client"+e])}var s=0;if("rect"===i){var o=t.getBoundingClientRect();s="Width"===e?o.right-o.left:o.bottom-o.top}else s="offset"===i?t["offset"+e]||t["client"+e]:t["client"+e]||t["offset"+e];if(s)return s;var a=N(t)[e.toLowerCase()];return~a.indexOf("px")&&parseFloat(a)||0}function U(t){return F(t,"Width","client")}function Z(t){return F(t,"Height","client")}function W(t){return F(t,"Width","offset")}function X(t){return F(t,"Height","offset")}function Y(t){return F(t,"Width","rect")}function Q(t){return F(t,"Height","rect")}function $(t){return{width:W(t),height:X(t)}}function J(t){return{width:Y(t),height:Q(t)}}var tt={vertical:{startPos1:"top",endPos1:"bottom",size1:"height",startPos2:"left",endPos2:"right",size2:"width"},horizontal:{startPos1:"left",endPos1:"right",size1:"width",startPos2:"top",endPos2:"bottom",size2:"height"}};function et(t){return tt[t?"horizontal":"vertical"]}function it(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach((function(e){for(var i in e)t[i]=e[i]})),t}function rt(t,e){return it({},M,t,e)}function nt(t){return t.map((function(t){return it({},t)}))}function st(t){return t===u}function ot(t,e){for(var i=t.length-1;i>=0;--i)t[i]=e;return t}function at(t){return void 0===t}function ut(t){var e=[],i={};return t.forEach((function(t){var r=t.groupKey,n=i[r];n||(n={groupKey:r,items:[]},i[r]=n,e.push(n)),n.items.push(t)})),e}function ht(t,e){Object.keys(B).forEach((function(i){t[i]||(t[i]=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=(t=this[e])[i].apply(t,r);return s===this[e]?this:s})}))}function ct(t,e){t.classList?t.classList.add(e):t.className+=" "+e}var lt=function(){function t(){this._groups=[],this._groupKeys={}}var e=t.prototype;return t.toItems=function(t,e){return t.map((function(t){return function(t,e){return{el:e,groupKey:t,mounted:!1,needUpdate:!0,content:e?e.outerHTML:"",rect:{top:S,left:S}}}(e,t)}))},t.pluck=function(t,e){return t.reduce((function(t,i){return t.concat(i[e])}),[])},e.clear=function(){this._groups=[],this._groupKeys={}},e.getStatus=function(t,e){var i=this._groups,r=Math.max(this.indexOf(t),0),n=this.indexOf(e)+1||i.length;return{_data:i.slice(r,n).map((function(t){var e=t.items.map((function(t){var e={};return K.forEach((function(i){i in t&&(e[i]=t[i])})),e})),i=it({},t);return i.items=e,i}))}},e.setStatus=function(t){var e=this,i=t._data;this.clear(),i.forEach((function(t,i){e.insertGroup(t,i)}))},e.size=function(){return this._groups.length},e.fit=function(t,e){var i=this._groups;if(i.length){var r=e?"left":"top";0!==t&&i.forEach((function(e){var i=e.items,n=e.outlines;i.forEach((function(e){e.rect[r]-=t})),n.start=n.start.map((function(e){return e-t})),n.end=n.end.map((function(e){return e-t}))}))}},e.pluck=function(e,i,r){var n=at(i)?this._groups:this.sliceGroups(i,(at(r)?i:r)+1);return t.pluck(n,e)},e.getOutline=function(t,e){var i=this._groups[t];return i?i.outlines[e]:[]},e.getEdgeIndex=function(t,e,i){for(var r="start"===t?"min":"max",n=-1,s="start"===t?1/0:-1/0,o=e;o<=i;o++){var a=Math[r].apply(Math,this.getOutline(o,t));("start"===t&&s>a||"end"===t&&s<a)&&(s=a,n=o)}return n},e.getEdgeValue=function(t,e,i){var r=this.getGroup(this.getEdgeIndex(t,e,i));if(r){var n=r.outlines[t];if(n.length)return Math["start"===t?"min":"max"].apply(Math,n)}return 0},e.clearOutlines=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=-1),this.getGroups().forEach((function(i,r){t<=r&&r<=e||(i.items.forEach((function(t){t.rect.top=S,t.rect.left=S})),i.outlines.start=[],i.outlines.end=[])}))},e.getMaxEdgeValue=function(){for(var t=this._groups,e=t.length-1;e>=0;--e){var i=t[e].outlines.end;if(i.length)return Math.max.apply(Math,i)}return 0},e.prependGroup=function(t){return this.insertGroup(t,0)},e.appendGroup=function(t){return this.insertGroup(t,this._groups.length)},e.insertGroup=function(t,e){var i=this;if(e<0)return this.appendGroup(t);var r=t.items||[],n=h(h({outlines:{start:[],end:[]}},t),{items:[],needUpdate:!0});return this._groups.splice(e,0,n),this._groupKeys[n.groupKey]=n,r.forEach((function(t,r){i.insert(t,e,r)})),n},e.sync=function(t){var e=this,i=this._groups,r=this._groupKeys,s=ut(t),o=(0,n.H)(i,s,(function(t){return t.groupKey})),a=o.removed,u=o.added,h=o.maintained;a.forEach((function(t){var e=i[t];e&&delete r[e.groupKey]}));var c=[];return h.forEach((function(t){var e=t[0];c.push(i[e])})),this._groups=c,u.forEach((function(t){e.insertGroup(s[t],t)})),h.reverse().forEach((function(t){var i=t[1];e.syncItems(i,s[i].items)})),o},e.insert=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=-1);var r=t.groupKey,n=this._groups,s=this._groupKeys,o=(e>-1?n[e]:s[r])||this.insertGroup({groupKey:r},e);if(!o)return null;o.needUpdate=!0;var a=h({content:"",mounted:!1,needUpdate:!0,rect:{top:S,left:S}},t),u=o.items;return-1===i?u.push(a):u.splice(i,0,a),a},e.removeGroup=function(t){var e=this._groups.splice(t,1)[0];return e?(delete this._groupKeys[e.groupKey],e):null},e.remove=function(t,e){var i=this.getGroup(t),r=null,n=[];return i?(i.needUpdate=!0,n=i.items.splice(e,1),i.items.length||(r=this.removeGroup(t)),{items:n,group:r}):{items:n,group:r}},e.indexOf=function(t){if(void 0===t)return-1;for(var e=""+("object"==typeof t?t.groupKey:t),i=this._groups,r=i.length,n=0;n<r;++n)if(e===""+i[n].groupKey)return n;return-1},e.indexesOfElement=function(t){var e=t.getAttribute(C),i=this.indexOf({groupKey:e}),r=-1;if(i>-1)for(var n=this.getGroup(i),s=n.items.length,o=0;o<s;o++)if(n.items[o].el===t){r=o;break}return{groupIndex:i,itemIndex:r}},e.sliceGroups=function(t,e){return this._groups.slice(t,e)},e.getGroups=function(){return this._groups},e.getGroupByKey=function(t){return this._groupKeys[t]},e.getGroup=function(t){return this._groups[t]},e.syncItems=function(t,e){var i=this;if(e.length){var r=this.getGroup(t).items,s=(0,n.H)(r,e,(function(t){return t.itemKey})),o=s.added,a=s.maintained,u=s.changed,h=s.removed,c=this._groups[t],l=[];a.forEach((function(t){var i=t[0],n=t[1],s=r[i];it(s,e[n]),l.push(s)})),c.items=l,(u.length||h.length)&&(c.needUpdate=!0),o.forEach((function(r){i.insert(e[r],t,r)}))}else this.removeGroup(t)},t}();function ft(t){t[A+"-property"]="",t[A+"-duration"]="",t[R]=""}var pt=function(){function t(t,e){this.options={useOffset:!1,isEqualSize:!1,isConstantSize:!1,horizontal:!1,container:!1,percentage:!1},this._size={container:-1,view:-1,viewport:-1,item:null},this._orgStyle={},this._isSizePercentage=!1,this._isPosPercentage=!1,it(this.options,e),this._init(t),this.resize()}var e=t.prototype;return t.removeItems=function(e){e.forEach((function(e){e.el&&(t.removeElement(e.el),e.el=null)}))},t.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},t.createElements=function(t){if(t.length){var e=t.filter((function(t){return!t.el}));if(e.length){var i=D(e.map((function(t){return t.content.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")})).join(""),!0);e.forEach((function(t,e){t.el=i[e]}))}}},e.getStatus=function(){return{cssText:this.container.style.cssText,_size:it({},this._size)}},e.setStatus=function(t){this.container.style.cssText=t.cssText,it(this._size,t._size)},e.updateSize=function(t){var e=this.options,i=e.isEqualSize,r=e.isConstantSize,n=e.useOffset,s=this._size;return t.map((function(t){return t.el?(i&&!s.item&&(s.item=n?$(t.el):J(t.el)),t.size=i&&it({},s.item)||r&&t.orgSize&&t.orgSize.width&&it({},t.orgSize)||(n?$(t.el):J(t.el)),t.orgSize&&t.orgSize.width&&t.orgSize.height||(t.orgSize=it({},t.size)),t):t}))},e.createAndInsert=function(e,i){t.createElements(e),this.renderItems(e),this._insert(e,i)},e.renderItems=function(t,e){var i=this;t.forEach((function(t){i.renderItem(t,t.rect,e)}))},e.renderItem=function(t,e,i){var r=this;if(t.el){var n,s,o,a,u=t.el,h=t.prevRect,c=u.style;if(u.setAttribute(C,""+t.groupKey),c.position="absolute",this._render(["width","height"],e,c),i&&A&&h){if(function(t,e,i,r){e?(i.left!==r.left||i.top!==r.top)&&(t[A+"-property"]=R+",width,height",t[A+"-duration"]=e+"s",t[R]="translate("+(i.left-r.left)+"px,"+(i.top-r.top)+"px)"):ft(t)}(c,i,e,h),u[z])return;u[z]=!0,o=function(){var e=t.rect;ft(c),r._render(["left","top"],e,c),t.prevRect=e,u[z]=!1},j(n=u,s=G,(function t(e){H(n,s,t),o(e)}),a)}else this._render(["left","top"],e,c),t.prevRect=e}},e.getViewSize=function(){return this._size.view},e.getViewportSize=function(){return this._size.viewport},e.getContainerSize=function(){return this._size.container},e.setContainerSize=function(t){this._size.container=t,this.container.style[this.options.horizontal?"width":"height"]=t+"px"},e.resize=function(){var t=this.options.horizontal,e=this.view,i=this._calcSize();if(0!==i){var r=i!==this._size.viewport;return r&&(this._size={view:-1,container:-1,viewport:i,item:null}),this._size.view=t?U(e):Z(e),r}},e.isNeededResize=function(){return this._calcSize()!==this._size.viewport},e.clear=function(){this.container.innerHTML="",this.container.style[this.options.horizontal?"width":"height"]="",this._size={item:null,viewport:-1,container:-1,view:-1}},e.destroy=function(){this.clear();var t,e=this.options.container;for(t in this._orgStyle)this[e?"view":"container"].style[t]=this._orgStyle[t];!0===e&&this.container.parentNode.removeChild(this.container)},e._init=function(t){var e=D(t),i=N(e),r=this.options,n=r.container,s=r.horizontal,o=r.percentage;if(o&&(this._isSizePercentage=!0===o||o.indexOf("size")>-1,this._isPosPercentage=!0===o||o.indexOf("position")>-1),"static"===i.position&&(this._orgStyle.position=e.style.position,e.style.position="relative"),n){var a=s?["X","Y"]:["Y","X"];this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style["overflow"+a[0]]="scroll",e.style["overflow"+a[1]]="hidden",this.view=e,this.container=!0===n?function(t){var e=t.querySelector("."+v);if(e)return e.style.position="relative",e.style.height="100%",e;var i=l.createElement("div");i.className=v,i.style.position="relative",i.style.height="100%";for(var r=t.children,n=r.length,s=0;s<n;s++)i.appendChild(r[0]);return t.appendChild(i),i}(this.view):n}else this.view=u,this.container=e},e._insert=function(t,e,i){var r=this,n=this.container,s=l.createDocumentFragment();t.forEach((function(t){i&&r.renderItem(t,i),e?s.appendChild(t.el):s.insertBefore(t.el,s.firstChild)})),e?n.appendChild(s):n.insertBefore(s,n.firstChild)},e._calcSize=function(){return this.options.horizontal?Z(this.container):U(this.container)},e._render=function(t,e,i){var r=this._isSizePercentage,n=this._isPosPercentage,s=this.getViewportSize(),o=this.options.horizontal;t.forEach((function(t){if(t in e){var a=o&&(r&&"height"===t||n&&"top"===t),u=!o&&(r&&"width"===t||n&&"left"===t);i[t]=a||u?e[t]/s*100+"%":e[t]+"px"}}))},t}();var dt=function(){function t(t,e){this.options=it({useRecycle:!0,threshold:100,append:function(){},prepend:function(){},recycle:function(){}},e),this._itemManager=t,this.clear()}var e=t.prototype;return e.setSize=function(t){this._status.size=t},e.sync=function(t){var e=this._status,i=e.startCursor,r=e.endCursor,s=this._itemManager,o=s.sliceGroups(i,r+1),a=lt.pluck(o,"items"),u=s.sync(t),h=function(t,e){for(var i=t.length,r=0;r<i;++r)if(e(t[r]))return t[r];return null}(o,(function(t){var e=t.groupKey;return s.getGroupByKey(e)})),c=function(t,e){for(var i=t.length-1;i>=0;--i)if(e(t[i]))return t[i];return null}(o,(function(t){var e=t.groupKey;return s.getGroupByKey(e)})),l=h?s.indexOf(h):-1,f=c?s.indexOf(c):-1;if(l>-1&&f>-1){var p=Math.min(l,f),d=Math.max(l,f);l=p,f=d}else f>-1?l=f:l>-1&&(f=l);if(e.startCursor=l,e.endCursor=f,u.removed.length>0)return"relayout";var g=s.pluck("items",i,r),_=(0,n.H)(a,g,(function(t){return t.itemKey})),m=_.added,v=_.removed,y=_.changed;return!m.length&&(y.length>0||v.length>0)?"layout":""},e.recycle=function(t,e){if(this.options.useRecycle&&"number"==typeof t){var i=this._status,r=i.startCursor,n=i.endCursor,s=i.size;if(-1!==r&&-1!==n){var o=t+s,a=this.options,u=a.threshold,h=a.recycle,c=this._itemManager.sliceGroups(r,n+1).map((function(e){return function(t,e,i,r){var n=t.items,s=t.outlines,o=s.start,a=s.end;if(0===o.length||0===a.length||!n.length||!n[0].el)return 2;var u=Math.min.apply(Math,o),h=Math.max.apply(Math,a);return r+e<u?1:i-e>h?-1:0}(e,u,t,o)})),l=c.length,f=e?0:c.lastIndexOf(0),p=e?c.indexOf(0)-1:c.length-1;e||-1===f||(f+=1),f<0||p<0||f>p||p-f+1>=l||(f=r+f,p=r+p,e?this.setCursor("start",p+1):this.setCursor("end",f-1),h({start:f,end:p}))}}},e.scroll=function(t){var e=this.getCursors(),i=e[0],r=e[1],n=this._itemManager;if("number"==typeof t&&-1!==i&&-1!==r&&n.size()){var s=this._status.size,o=this.options,a=o.threshold,u=o.append,h=o.prepend,c=n.getGroups(),l=t+s,f=Math.max.apply(Math,c[i].outlines.start),p=Math.min.apply(Math,c[r].outlines.end),d=c.map((function(e,i){var r=e.outlines,n=r.start,s=r.end;if(!n.length||!s.length)return!1;var o=Math.min.apply(Math,n),u=Math.max.apply(Math,s);return o-a<=l&&t<=u+a})),g=d.indexOf(!0),_=d.lastIndexOf(!0);if(~g&&g<i)h({cache:c.slice(g,Math.min(i,_+1))});else if(r<_)u({cache:c.slice(Math.max(g,r+1),_+1)});else{var m=c.slice(r+1,r+2),v=c.slice(i-1,i),y=t<=f+a;l>=p-a&&(!y||m.length||!v.length)?u({cache:m}):y&&h({cache:v})}}},e.setCursor=function(t,e){var i=this._status,r=this._itemManager,n=r.size();if(!this.options.useRecycle){if(i.startCursor=0,r.getOutline(n-1,"end").length)return void(i.endCursor=n-1);if("end"!==t)return}"start"===t?i.startCursor=e:i.endCursor=Math.min(n-1,e),i.startCursor=Math.max(0,i.startCursor)},e.setStatus=function(t){this._status=it(this._status,t)},e.getStatus=function(t,e){var i=this._status,r=i.startCursor,n=i.endCursor,s=i.size,o=Math.max(this._itemManager.indexOf(t),0),a=(this._itemManager.indexOf(e)+1||this._itemManager.size())-1,u=Math.max(r-o,~r?0:-1);return{startCursor:u,endCursor:Math.max(Math.min(n-o,a-o),u),size:s}},e.getEdgeOutline=function(t){var e=this._status,i=e.startCursor,r=e.endCursor;return-1===i||-1===r?[]:this._itemManager.getOutline("start"===t?i:r,t)},e.getEdgeValue=function(t){var e=this.getEdgeOutline(t);return e.length?Math["start"===t?"min":"max"].apply(Math,e):0},e.getVisibleItems=function(){var t=this._status,e=t.startCursor,i=t.endCursor;return this._itemManager.pluck("items",e,i)},e.getCursors=function(){var t=this._status;return[t.startCursor,t.endCursor]},e.getCursor=function(t){return this._status["start"===t?"startCursor":"endCursor"]},e.getVisibleData=function(){var t=this._status,e=t.startCursor,i=t.endCursor;return this._itemManager.sliceGroups(e,i+1)},e.remove=function(t,e){var i=this._status,r=this._itemManager,n=i.startCursor,s=i.endCursor,o=r.remove(t,e);return o.group&&(t<n&&this.setCursor("start",n-1),t<=s&&this.setCursor("end",s-1)),r.size()||(i.startCursor=-1,i.endCursor=-1),o},e.clear=function(){this._status={startCursor:-1,endCursor:-1,size:-1}},t}();function gt(t,e){return~t.indexOf(e)}var _t=function(){function t(t,e,i,r){this._infinite=t,this._itemManager=e,this._renderer=i,this.options=r}var e=t.prototype;return e.setLayout=function(t){this._layout=t},e.render=function(t,e,i,r){var n=this;void 0===i&&(i=lt.pluck(e,"items"));var o=r?e:e.reverse(),a=[],u=[],h=i.map((function(t){return t.el})),c=this.options.attributePrefix,l=new s.ZP({prefix:c});return this.im=l,l.check(h),l.on("preReady",(function(){n._itemManager&&n._preReady(t,o,i,r)})).on("error",(function(e){var r=e.target,s=e.index;n._itemManager&&n._error(t,u,a,r,i,s)})).on("readyElement",(function(e){i[e.index].needUpdate=!1,e.hasLoading&&e.isPreReadyOver&&n._readyElement(t,i[e.index])})).on("ready",(function(){n._itemManager&&n._ready(t,u,a,i)})),t},e.destroy=function(){this.im&&this.im.destroy()},e._preReady=function(t,e,i,r){var n=this,s=this._infinite,o=this._layout,a=this._itemManager,u=r?"end":"start",h=r?"start":"end",c=a.indexOf(e[0]),l=a.getGroup(c),f=a.getGroup(c+(r?-1:1)),p=[0];f?p=f.outlines[u]:l&&(p=l.outlines[h]),this._renderer.updateSize(i),e.forEach((function(t){var e=t.outlines[h];if(!(t.needUpdate||!p.length||p.length!==e.length||!p.every((function(t,i){return t===e[i]}))))return p=t.outlines[u],void n._renderer.renderItems(t.items);var i=t.items,s=o[r?"append":"prepend"](i,p,!0);it(t,s),n._renderer.renderItems(s.items),p=s.outlines[u],t.needUpdate=!1}));var d=Math.max(s.getCursor("start"),0),g=Math.max(s.getCursor("end"),0),_=a.indexOf(e[0].groupKey),m=a.indexOf(e[e.length-1].groupKey),v=!0;if((_>g+1||m<d-1)&&(v=!1),v&&(r?(_=d,m=Math.max(g,m)):(_=Math.max(Math.min(d,_),0),m=g)),_>m){var y=_;_=m,m=y}t.trigger("renderComplete",{start:_,end:m}),t.trigger("layoutComplete",{items:lt.pluck(e,"items"),isAppend:!!r})},e._error=function(t,e,i,r,n,s){var o=this._itemManager,a=n[s],u=a.el,h=this.options.attributePrefix,c=function(){if(!gt(e,u)){e.push(u);var t=i.indexOf(s);-1!==t&&i.splice(t,1)}},l=function(){r!==u?gt(e,u)||(r.parentNode.removeChild(r),a.content=u.outerHTML,gt(i,s)||i.push(s)):c()},f=function(t){if(!gt(e,u)){if(t)if(q(t)||"object"==typeof t){var n=r.parentNode;n.insertBefore(D(t),r),n.removeChild(r),a.content=u.outerHTML}else r instanceof HTMLImageElement&&(r.src=t,r.getAttribute(h+"width")&&(r.removeAttribute(h+"width"),r.removeAttribute(h+"height")));a.content=u.outerHTML,gt(i,s)||i.push(s)}},p=function(t){gt(e,u)||(u.innerHTML=t,a.content=u.outerHTML,gt(i,s)||i.push(s))},d=o.pluck("items").indexOf(a);r instanceof HTMLImageElement&&t.trigger("imageError",{target:r,element:u,items:n,item:a,itemIndex:s,replace:f,replaceItem:p,remove:l,removeItem:c,totalIndex:d}),t.trigger("contentError",{target:r,element:u,items:n,item:a,itemIndex:s,replace:f,replaceItem:p,remove:l,removeItem:c,totalIndex:d})},e._readyElement=function(t,e){t.trigger("readyElement",{item:e})},e._ready=function(t,e,i,r){var n=this,o=this.options.attributePrefix,a=e.length,u=i.length;if(a||u){var h=i.map((function(t){return r[t]}));u?new s.ZP({prefix:o}).check(h.map((function(t){return t.el}))).on("ready",(function(){n._renderer.updateSize(h),t.trigger("ready",{remove:e,layout:!0})})):t.trigger("ready",{remove:e,layout:!0})}else t.trigger("ready",{remove:[]})},t}(),mt=function(){function t(t,e){var i=this;void 0===e&&(e={}),this._resizeTimer=0,this._maxResizeDebounceTimer=0,this._containerOffset=0,this._isScrollIssue=_,this._prevPos=null,this._onCheck=function(){var t=i.getScrollPos(),e=i.getOrgScrollPos();i.setScrollPos(e);var r=i.getScrollPos();null===t||i._isScrollIssue&&0===e||t===r?e&&(i._isScrollIssue=!1):(i._isScrollIssue=!1,i.options.check({isForward:t<r,scrollPos:r,orgScrollPos:e,horizontal:i.options.horizontal}))},this._onResize=function(){var t=i.options,e=t.resizeDebounce,r=t.maxResizeDebounce,n=function(){clearTimeout(i._resizeTimer),clearTimeout(i._maxResizeDebounceTimer),i._maxResizeDebounceTimer=0,i._resizeTimer=0,i.resize(),i.options.resize()};!i._maxResizeDebounceTimer&&r>=e&&(i._maxResizeDebounceTimer=u.setTimeout(n,r)),i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=0),i._resizeTimer=u.setTimeout(n,e)},it(this.options={container:t,resize:function(){},check:function(){},isOverflowScroll:!1,horizontal:!1,resizeDebounce:100,maxResizeDebounce:0},e),this._view=t,this.attachEvent(),this.resize(),this.setScrollPos()}var e=t.prototype;return e.getStatus=function(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}},e.setStatus=function(t,e){void 0===e&&(e=!0),this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)},e.scrollBy=function(t){var e,i,r,n=this.options.horizontal?[t,0]:[0,t];e=this._view,i=n[0],r=n[1],st(e)?e.scrollBy(i,r):(e.scrollLeft+=i,e.scrollTop+=r),this.setScrollPos()},e.scrollTo=function(t){var e,i,r,n=this.options.horizontal?[t,0]:[0,t];e=this._view,i=n[0],r=n[1],st(e)?e.scroll(i,r):(e.scrollLeft=i,e.scrollTop=r)},e.getScrollPos=function(){return this._prevPos},e.setScrollPos=function(t){void 0===t&&(t=this.getOrgScrollPos()),this._prevPos=t-this.getContainerOffset()},e.attachEvent=function(){j(this._view,"scroll",this._onCheck),j(u,"resize",this._onResize)},e.getOrgScrollPos=function(){return function(t,e){void 0===e&&(e=!1);var i="scroll"+(e?"Left":"Top");return st(t)?u[e?"pageXOffset":"pageYOffset"]||l.body[i]||l.documentElement[i]:t[i]}(this._view,this.options.horizontal)},e.reset=function(){this._prevPos=null},e.getContainerOffset=function(){return this._containerOffset},e.resize=function(){this._containerOffset=this.options.isOverflowScroll?0:this._getOffset()},e.detachEvent=function(){H(this._view,"scroll",this._onCheck),H(u,"resize",this._onResize)},e.destroy=function(){this.detachEvent(),this.reset()},e._getOffset=function(){var t=this.options,e=t.container,i=t.horizontal;return e.getBoundingClientRect()[i?"left":"top"]+this.getOrgScrollPos()},t}(),vt=function(t){function e(e,i){var r=t.call(this)||this;r._loadingBar={},r._requestGroups=[],it(r.options=h({},E),i),b&&(r.options.useFit=!1),m&&(r.options.isOverflowScroll=!1),r._reset();var n=r.options,s=n.isOverflowScroll,o=n.isEqualSize,a=n.isConstantSize,u=n.horizontal,c=n.threshold,l=n.useRecycle,f=n.attributePrefix,p=n.resizeDebounce,d=n.maxResizeDebounce,g=n.percentage,_=n.useOffset;return r._itemManager=new lt,r._renderer=new pt(e,{isEqualSize:o,isConstantSize:a,horizontal:u,container:s,percentage:g,useOffset:_}),r._watcher=new mt(r._renderer.view,{resizeDebounce:p,maxResizeDebounce:d,isOverflowScroll:s,horizontal:u,container:r._renderer.container,resize:function(){return r._onResize()},check:function(t){return r._onCheck(t)}}),r._infinite=new dt(r._itemManager,{useRecycle:l,threshold:c,append:function(t){return r._requestAppend(t)},prepend:function(t){return r._requestPrepend(t)},recycle:function(t){return r._recycle([t])}}),r._renderManager=new _t(r._infinite,r._itemManager,r._renderer,{attributePrefix:f,isEqualSize:o,isConstantSize:a,horizontal:u}),r}a(e,t);var i=e.prototype;return i.append=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!0,groupKey:e}),this},i.prepend=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!1,groupKey:e}),this},i.setLayout=function(t,e){void 0===e&&(e={});var i=this.options.horizontal;return"function"==typeof t?this._layout=new t(it(e,{horizontal:i})):(t.options.horizontal=i,this._layout=t),this._renderManager.setLayout(this._layout),this._renderer.resize(),this._setSize(this._renderer.getViewportSize()),this},i.getItems=function(t){return void 0===t&&(t=!1),t?this._itemManager.pluck("items"):this._infinite.getVisibleItems()},i.getRenderingItems=function(){var t=this.getItems(),e={};t.forEach((function(t){e[t.itemKey]=!0}));var i=lt.pluck(this._requestGroups,"items").filter((function(t){return!e[t.itemKey]&&(e[t.itemKey]=!0,!0)}));return t.concat(i)},i.beforeSync=function(t){return this._infinite.sync(t)},i.sync=function(t){var e=this,i=this._itemManager,r=this._infinite,n=this.getRenderingItems();if(n.forEach((function(i,r){var n=i.el!==t[r];i.el=t[r],n&&e._renderer.renderItem(i,i.rect)})),!this._isProcessing()){var s=n.filter((function(t){return t.needUpdate||!t.orgSize||!t.orgSize.width}));if(s.length)this._postLayout({fromCache:!1,groups:r.getVisibleData(),newItems:s,isAppend:!0,isTrusted:!1});else if(i.size())if(r.getCursor("start")<0){var o=i.getGroup(0);this._postLayout({groups:[o],hasChildren:!1,fromCache:!1,isAppend:!0})}else this._infinite.scroll(this._watcher.getScrollPos());else this._requestAppend({})}},i.layout=function(t){if(void 0===t&&(t=!0),!this._layout)return this;var e=this._renderer,i=this._itemManager,r=this._infinite,n=e.resize(),s=this.getItems(),o=this.options,a=o.isEqualSize,u=o.isConstantSize,h=o.transitionDuration,c=t&&(a||u);if(this._watcher.resize(),t&&this._setSize(e.getViewportSize()),!s.length)return this._firstLayout();var l=r.getCursors(),f=l[0],p=l[1],d=!c&&t&&n?i.sliceGroups(f,p+1):i.getGroups();return this._relayout(t,d,n?s:[]),c?this._fit():t&&n&&i.clearOutlines(f,p),this._renderer.renderItems(s,h),t&&this._watcher.setScrollPos(),this._onLayoutComplete({items:s,isAppend:!0,fromCache:!0,isTrusted:!1,useRecycle:!1,isLayout:!0}),this},i.removeByIndex=function(t,e,i){void 0===i&&(i=!0);var r=this._infinite.remove(t,e),n=r.items,s=r.group;return n.forEach((function(t){pt.removeElement(t.el)})),n.length?(i&&this.layout(!!s),n):[]},i.remove=function(t,e){void 0===e&&(e=!0);var i=this._itemManager.indexesOfElement(t),r=i.groupIndex,n=i.itemIndex;return this.removeByIndex(r,n,e)},i.getGroupKeys=function(t){return(t?this._itemManager.getGroups():this._infinite.getVisibleData()).map((function(t){return t.groupKey}))},i.getStatus=function(t,e){return{_status:it({},this._status),_itemManager:this._itemManager.getStatus(t,e),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus(),_infinite:this._infinite.getStatus(t,e)}},i.setStatus=function(t,e,i){if(void 0===e&&(e=!0),!t)return this;var r=t._status,n=t._renderer,s=t._itemManager,o=t._watcher,a=t._infinite;if(!(r&&n&&s&&o&&a))return this;var u=this.options.renderExternal,h=this._itemManager,c=this._renderer,l=this._watcher,f=this._infinite;l.detachEvent(),it(this._status,r),this._status.processingStatus=0,h.setStatus(s),c.setStatus(n),f.setStatus(a);var p=this.getItems(),d=p.length;u?(p.forEach((function(t,e){t.el=i[e]})),this._renderer.renderItems(p)):c.createAndInsert(p,!0);var g=c.isNeededResize();l.setStatus(o,e),l.attachEvent();var _=this.options,m=_.isConstantSize,v=_.isEqualSize;return d?g?(c.resize(),this._setSize(c.getViewportSize()),m?this.layout(!0):(this._itemManager.clearOutlines(),this._postLayout({fromCache:!0,groups:v?h.getGroups():f.getVisibleData(),items:p,newItems:p,isAppend:!0,isTrusted:!1}))):this.layout(!1):this._requestAppend({cache:[]}),this},i.clear=function(){return this._itemManager.clear(),this._renderer.clear(),this._infinite.clear(),this._reset(),this._appendLoadingBar(),this},i.setLoadingBar=function(t){void 0===t&&(t={});var e="object"==typeof t?t:{append:t,prepend:t};this._status.loadingSize=0,this._status.loadingStyle={};var i,r,n=this._loadingBar,s=!1;for(var o in e){var a=D(e[o]);n[o]!==a&&(n[o]=a,s=!0),r=y,((i=a).classList?i.classList.contains(r):i.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)")))||ct(a,y)}return s&&this._renderLoading(),this._appendLoadingBar(),this},i.isProcessing=function(){return this._isProcessing()||this.isLoading()},i.isLoading=function(){return this._getLoadingStatus()>0},i.getLoadingBar=function(t){return void 0===t&&(t=2!==this._getLoadingStatus()),this._loadingBar[t?"append":"prepend"]},i.startLoading=function(t,e){var i=this;if(void 0===e&&(e={display:"block"}),this.isLoading())return this;var r=t?"append":"prepend";if(this._process(t?1:2),!this._loadingBar[r])return this;var n=function(){i._renderLoading(e),i._status.loadingStyle=e,t?i._setContainerSize(i._getEdgeValue("end")+i._status.loadingSize):i._fit()};return this.options.renderExternal?this.trigger("render",{next:n}):n(),this},i.endLoading=function(t){var e;if(void 0===t&&(t={display:"none"}),!this.isLoading())return this;var i=1===this._getLoadingStatus(),r=i?"append":"prepend",n=this._loadingBar[r],s=this._status,o=s.loadingSize;if(this._process(3,!1),s.loadingSize=0,s.loadingStyle={},n){var a=it(((e={})[this.options.horizontal?"left":"top"]=-o+"px",e),t);for(var u in a)n.style[u]=a[u];i?this._setContainerSize(this._getEdgeValue("end")):this._fitItems(o),this.options.renderExternal&&this.trigger("render",{next:function(){}})}return this.options.useRecycle&&!this.isProcessing()&&this._infinite.recycle(this._watcher.getScrollPos(),i),this},i.getItem=function(t,e){if(void 0===t&&(t=0),"object"!=typeof t){var i=this._itemManager.getGroup(t);return i&&i.items[e||0]}if(t)for(var r=this.getItems(),n=r.length,s=0;s<n;++s)if(r[s].el===t)return r[s]},i.updateItem=function(t,e){var i=this.getItem(t,e);return this._updateItem(i)&&this.layout(!1),this},i.updateItems=function(){var t=this;return this.getItems().forEach((function(e){t._updateItem(e)})),this.layout(!1),this},i.moveTo=function(t,e){var i=this;if(void 0===e&&(e=0),this.isProcessing())return this;var r=this._itemManager.getGroup(t);if(!r)return this;var n=this._infinite,s=r.outlines,o=r.items,a=o[e],u=s.start&&0===s.start.length,h=n.getCursors(),c=h[0],l=h[1],f=c<=t&&t<=l,p=this.options,d=p.useRecycle,g=p.horizontal;if(f||!d||!u){var _=a?a.rect[g?"left":"top"]:Math.max.apply(Math,s.start),m=Math.min.apply(Math,s.start);m<0&&(this._fitItems(m,0),_-=m);var v=t>c;return f||v?(this._scrollTo(_),this):(this._postLayout({fromCache:!0,groups:[r],items:o,newItems:[],isAppend:v,isTrusted:!1}).on("renderComplete",(function(t){var r=t.start,n=t.end,s=i._itemManager;if(s){var a=o[e].rect[g?"left":"top"];f||s.clearOutlines(r,n),i._scrollTo(a),i._setScrollPos(a)}})),this)}v=t>l||t<c-1;return this._postCache({isAppend:v,cache:[r],isTrusted:!1}).on("renderComplete",(function(t){var r=t.start,n=t.end,s=i._itemManager;if(s){var a=o[e].rect[g?"left":"top"];s.clearOutlines(r,n),i._scrollTo(a),i._setScrollPos(a)}})),this},i.destroy=function(){this._infinite.clear(),this._watcher.destroy(),this._reset(),this._itemManager.clear(),this._renderer.destroy(),this._renderManager.destroy()},i._relayout=function(t,e,i){var r=this._renderer,n=r.options,s=n.isEqualSize,o=n.isConstantSize,a=e.filter((function(t){var e=t.items[0];return e.orgSize&&e.rect.top>-1e4}));if(!a.length)return[];var u=a[0].outlines.start;t&&(u=[u.length?Math.min.apply(Math,u):0],!o&&i.length&&(r.updateSize(i),s&&i[0].size&&lt.pluck(a,"items").forEach((function(t){t.size=it({},i[0].size)})))),this._layout.layout(a,u),a.forEach((function(t){t.needUpdate=!1}))},i._setContainerSize=function(t){this._renderer.setContainerSize(Math.max(this._itemManager.getMaxEdgeValue(),t))},i._appendLoadingBar=function(){if(!this.options.renderExternal){var t=this._loadingBar,e=this._renderer.container;for(var i in t)e.appendChild(t[i])}},i._setSize=function(t){this._infinite.setSize(this._renderer.getViewSize()),this._layout.setSize(t)},i._fitItems=function(t,e){void 0===e&&(e=0),t>0&&this._watcher.scrollBy(-t),this._itemManager.fit(t,this.options.horizontal),this._renderer.renderItems(this.getItems()),this._setContainerSize(this._getEdgeValue("end")||e),t<0&&this._watcher.scrollBy(-t)},i._fit=function(t){void 0===t&&(t=this.options.useFit);var e=this._getEdgeValue("start"),i=2===this._getLoadingStatus()&&this._status.loadingSize||0,r=this.options,n=r.isConstantSize,s=r.isEqualSize;if(!r.useRecycle||!t||n||s)e<i&&this._fitItems(e-i,i),e=0;else{if(0===e&&!i)return 0;this._fitItems(e-i,i)}return this.isLoading()&&this._renderLoading(),e},i._getEdgeValue=function(t){return this._infinite.getEdgeValue(t)},i._isProcessing=function(){return(4&this._status.processingStatus)>0},i._getLoadingStatus=function(){return 3&this._status.processingStatus},i._process=function(t,e){void 0===e&&(e=!0),e?this._status.processingStatus|=t:this._status.processingStatus-=this._status.processingStatus&t},i._insert=function(t){var e=t.elements,i=t.isAppend,r=t.hasChildren,n=t.groupKey,s=void 0===n?this._getRandomKey():n;if(!this._isProcessing()&&0!==e.length){var o=lt.toItems(D(e,!0),s);this._insertItems({items:o,isAppend:i,hasChildren:r,groupKey:s})}},i._insertItems=function(t){var e=t.items,i=t.isAppend,r=t.hasChildren,n=t.groupKey,s=void 0===n?this._getRandomKey():n;if(e.length){var o=this._itemManager[i?"appendGroup":"prependGroup"]({groupKey:s,items:e});if(!i){var a=this._infinite,u=a.getCursors(),h=u[0],c=u[1];a.setCursor("start",h+1),a.setCursor("end",c+1)}this._postLayout({fromCache:!1,groups:[o],items:o.items,newItems:o.items,isAppend:i,hasChildren:r,isTrusted:!1})}},i._recycle=function(t){var e=this,i=this.options,r=i.useRecycle,n=i.renderExternal;if(!r)return!1;var s=!1;return t.forEach((function(t){var i=t.start,r=t.end;if(!(-1===i||-1===r||r<i)){var o=e._itemManager.pluck("items",i,r);s=s||o.some((function(t){return t.mounted})),o.forEach((function(t){t.mounted=!1})),n||pt.removeItems(o)}})),s&&(this._requestGroups=[],this.trigger("render",{next:function(){}})),s},i._renderLoading=function(t){if(void 0===t&&(t=this._status.loadingStyle),this.isLoading()){var e=1===this._getLoadingStatus(),i=this._loadingBar[e?"append":"prepend"];if(i){var r=it({position:"absolute"},t);for(var n in r)i.style[n]=r[n];var s=this.options,o=s.useOffset,a=s.horizontal;this._status.loadingSize=a?o?W(i):Y(i):o?X(i):Q(i);var u=this.options.horizontal?"left":"top";if(!(u in r)){var h=e?this._getEdgeValue("end"):this._getEdgeValue("start")-this._status.loadingSize;i.style[u]=h+"px"}}}},i._updateItem=function(t){return!(!t||!t.el)&&(t.content=t.el.outerHTML,!this.options.isEqualSize&&function(t){t.orgSize=null,t.size=null}(t),this._renderer.updateSize([t]),!0)},i._setScrollPos=function(t){this._watcher.setScrollPos(this._watcher.getContainerOffset()+t)},i._scrollTo=function(t){this._watcher.scrollTo(this._watcher.getContainerOffset()+t)},i._postCache=function(t){var e=t.cache,i=t.isAppend,r=t.isTrusted,n=void 0===r||r,s=this.options.isConstantSize,o=lt.pluck(e,"items"),a=!0,u=o.filter((function(t){return t.orgSize&&t.orgSize.width?!s&&t.rect.top<-1e4:(a=!1,!0)}));return this._postLayout({fromCache:a,groups:e,items:o,newItems:u,isAppend:i,isTrusted:n})},i._postLayout=function(t){var e=this,i=t.fromCache,n=t.groups,s=t.items,o=void 0===s?lt.pluck(n,"items"):s,a=t.newItems,u=t.isAppend,h=t.hasChildren,c=t.isTrusted;if(this._process(4),n.length){var l=this.options.renderExternal,f=this._renderer,p=new r.Z,d=function(){o.forEach((function(t){t.mounted=!0})),e._renderManager.render(p,n,a,u).on("imageError",(function(t){e.trigger("imageError",t)})).on("contentError",(function(t){e.trigger("contentError",t)})).on("renderComplete",(function(t){var i=t.start,r=t.end;e._setCursor(i,r)})).on("layoutComplete",(function(t){var r=t.items;e._process(4,!1),e._onLayoutComplete({items:r,isAppend:u,fromCache:i,isTrusted:c,useRecycle:!1})})).on("readyElement",(function(t){e._updateItem(t.item)&&e.layout(!1)})).on("ready",(function(t){var i=t.remove,r=t.layout;if(i.forEach((function(t){return e.remove(t,!1)})),r)e.layout(!1);else if(!e.isProcessing()&&e.options.useRecycle){var n=e._watcher.getScrollPos();e._infinite.recycle(n,u)}}))};if(!h){if(l)return o.every((function(t){return t.mounted}))?d():(this._requestGroups=n,this.trigger("render",{next:function(){!h&&e._renderer.renderItems(o),d()}})),p;f.createAndInsert(o,u)}return d(),p}},i._requestAppend=function(t){var e=this,i=t.cache;this._isProcessing()||(i&&i.length?this._postCache({cache:i,isAppend:!0}):this.trigger("append",{isTrusted:!0,groupKey:this.getGroupKeys().pop()||"",startLoading:function(t){e.startLoading(!0,t)},endLoading:function(t){e.endLoading(t)}}))},i._requestPrepend=function(t){var e=this,i=t.cache;this._fit(this.options.useFit||!i||!i.length),this._isProcessing()||(i&&i.length?this._postCache({cache:i,isAppend:!1}):this.trigger("prepend",{isTrusted:!0,groupKey:this.getGroupKeys().shift(),startLoading:function(t){e.startLoading(!1,t)},endLoading:function(t){e.endLoading(t)}}))},i._onResize=function(){this.layout(!0)},i._setCursor=function(t,e){var i=this._infinite,r=i.getCursors(),n=r[0],s=r[1];i.setCursor("start",t),i.setCursor("end",e),this._recycle([{start:n,end:t-1},{start:e+1,end:s}])||(this._requestGroups=[],this.trigger("render",{next:function(){}}))},i._onCheck=function(t){var e=t.isForward,i=t.scrollPos,r=t.horizontal,n=t.orgScrollPos;this.trigger("change",{isForward:e,horizontal:r,scrollPos:i,orgScrollPos:n}),this._infinite.scroll(i)},i._onLayoutComplete=function(t){var e=this,i=t.items,r=t.isAppend,n=t.isTrusted,s=void 0!==n&&n,o=t.useRecycle,a=void 0===o?this.options.useRecycle:o,u=t.fromCache,h=void 0!==u&&u,c=t.isLayout,l=void 0!==c&&c,f=this._renderer.getViewSize();r?this.isLoading()&&this._renderLoading():this._fit();var p=this._watcher,d=p.getScrollPos();l||!a||this.isLoading()||this._infinite.recycle(d,r);var g=this._getEdgeValue("end");r&&(this._setContainerSize(g+this._status.loadingSize||0),"number"==typeof d&&d>0&&!_&&this._scrollTo(d)),this.trigger("layoutComplete",{target:i.concat(),isAppend:!!r,isTrusted:s,fromCache:h,isLayout:l,isScroll:f<p.getContainerOffset()+g,scrollPos:d,orgScrollPos:p.getOrgScrollPos(),size:g,endLoading:function(t){e.endLoading(t)}}),this._infinite.scroll(d)},i._firstLayout=function(){var t=this._renderer,e=this._infinite,i=this._itemManager,r=this.options.attributePrefix,n=V(t.container.children).filter((function(t){return-1===t.className.indexOf(y)})),s=n.length>0;if(i.size())s&&i.pluck("items").forEach((function(t,e){t.el=n[e]}));else{if(!s)return t.getContainerSize()&&t.setContainerSize(0),this._requestAppend({}),this;var o=""+this._getRandomKey();n.forEach((function(t){var e=t.getAttribute(r+"groupkey");"string"!=typeof e&&(e=o),o=e,i.insert({groupKey:e,el:t})}))}var a=i.getGroups();return e.setCursor("start",0),e.setCursor("end",a.length-1),this._postLayout({groups:a,hasChildren:s,fromCache:!1,isAppend:!0}),this},i._getRandomKey=function(){for(var t=this._itemManager;;){var e=(new Date).getTime()+Math.floor(1e3*Math.random());if(!t.getGroupByKey(e))return e}},i._reset=function(){this._status={processingStatus:0,loadingSize:0,loadingStyle:{}}},e.VERSION="3.9.0",e}(r.Z),yt=x,zt=L,St=I,Ct=P,Et=function(){function t(t){void 0===t&&(t={}),this.options=rt({margin:0,horizontal:!1,align:yt,itemSize:0},t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=et(this.options.horizontal)}var e=t.prototype;return e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e.layout=function(t,e){var i=this;void 0===t&&(t=[]),void 0===e&&(e=[]);var r,n=t.length&&t[0].items.length&&t[0].items[0];if(this.checkColumn(n),e.length!==this._columnLength){var s=0===e.length?0:Math.min.apply(Math,e);r=ot(new Array(this._columnLength),s)}else r=e.slice();return t.forEach((function(t){var e=t.items,n=i._layout(e,r,!0);t.outlines=n,r=n.end})),this},e.setSize=function(t){return this._size=t,this},e.checkColumn=function(t){var e=this.options,i=e.itemSize,r=e.margin,n=e.horizontal?"height":"width",s=Math.floor(i||t&&t.size[n]||0)||0;this._columnSize=s,this._columnLength=s?Math.max(Math.floor((this._size+r)/(s+r)),1):1},e._layout=function(t,e,i){for(var r,n=t.length,s=this.options.margin,o=this.options.align,a=this._style,u=a.size1,h=a.size2,c=a.startPos1,l=a.startPos2,f=this._columnSize,p=this._columnLength,d=this._size,g=d-(f+s)*p+s,_=i?"min":"max",m=i?"indexOf":"lastIndexOf",v=e.slice(),y=e.slice(),z=0;z<n;++z){var S=Math[_].apply(Math,y)||0,C=y[m](S),E=t[i?z:n-1-z],M=E.size;if(M){var w=M[u],x=M[h],L=i?S:S-s-w,I=L+w+s;-1===C&&(C=0);var P=(f+s)*C;o===zt?P+=g/2:o===St?P+=g+f-x:o===Ct&&(p<=1?P+=g/2:P=(d-f)/(p-1)*C),E.rect=((r={})[c]=L,r[l]=P,r),E.column=C,y[C]=i?I:L}}return i||t.sort((function(t,e){var i=t.rect[c],r=t.rect[l],n=e.rect[c],s=e.rect[l];return i-n?i-n:r-s})),{start:i?v:y,end:i?y:v}},e._insert=function(t,e,i,r){void 0===t&&(t=[]),void 0===e&&(e=[]);var n=r?t:nt(t),s=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(s=ot(new Array(this._columnLength),e.length&&Math[i?"min":"max"].apply(Math,e)||0)),{items:n,outlines:this._layout(n,s,i)}},t}();e.ZP=vt}}]);
//# sourceMappingURL=57352d49-2430e83b7272a844bdcd.js.map